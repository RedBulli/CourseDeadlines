{% extends "base.html" %}
{% block title %}Course Deadlines{% endblock %}

{% block content %}

  {% if user.is_authenticated %}
    <script src="{{ STATIC_URL }}js/app.js"></script>
  {% endif %}

  {% include "js_templates/course_list.html" %}
  {% include "js_templates/course_search_list.html" %}
  <header>
	{% if user.is_authenticated %}
	<div id="login">
		{{ user.email }}
		<a href="/logout">Logout</a>
	</div>
	{% endif %}
    <h1>Course Deadlines</h1>
    <nav>
    </nav>
  </header>
  {% if user.is_authenticated %}
  <h2>Courses I'm taking</h2>
  <ul id="courseList">
  </ul>
  <aside>
    Other info <br>
    mail: {{ user.email }} <br>
    notifyEmail: {{ notifyEmail }} <br>
    notifications: {{ notifications }}
    
  </aside>
  <a href="#newCourseModal" id="newCourseButton" role="button" data-toggle="modal">Add course</a>
  <div id="newCourseModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <header>
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
      <h3>Add new course</h3>
      <form id="courseSearchForm" class="form-search">
        <div class="input-append">
          <input type="search" class="search-query" id="courseNameSearch" placeholder="Search" list="courseDatalist">
          <button type="submit"><i class="icon-search"></i></button>
        </div>
      </form>
      <datalist id="courseDatalist">
      </datalist>
    </header>
    <div class="modal-body">
      <ul id="searchResults">
      </ul>
    </div>
    <div class="modal-footer">
      <button id="closePopupButton" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div>
  {% else %}
  <a href="/openid/login">Login using Google</a>
  {% endif %}
  
{% endblock %}
